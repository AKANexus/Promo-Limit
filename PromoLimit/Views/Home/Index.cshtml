@model PromoLimit.Views.Home.IndexViewModel;

@{
	ViewData["Title"] = "Home Page";
	Layout = "_Layout";
}

@section Styles {
	<style>
		/* DivTable.com */
		.divTable {
			display: table;
			width: 100%;
		}

		.divTableRow {
			display: table-row;
		}

		.divTableHeading {
			background-color: #EEE;
			display: table-header-group;
		}

		.divTableCell, .divTableHead {
			border: 1px solid #999999;
			display: table-cell;
			padding: 3px 10px;
		}

		.divTableHeading {
			background-color: #EEE;
			display: table-header-group;
			font-weight: bold;
		}

		.divTableFoot {
			background-color: #EEE;
			display: table-footer-group;
			font-weight: bold;
		}

		.divTableBody {
			display: table-row-group;
		}
	</style>
}

	<div class="text-center">
		<h3>Lista de Produtos</h3>
		@if (TempData["Error"] is not null)
		{
		<div style="color: red">@TempData["Error"]</div>
		}
		<div class="divTable">
			<div class="divTableBody" id="tableBod">
				<div class="divTableRow">
					<div class="divTableHead">Seller</div>
					<div class="divTableHead">MLB</div>
					<div class="divTableHead">Descrição</div>
					<div class="divTableHead">Qtd</div>
				<div class="divTableHead">Estoque</div>
				<div class="divTableHead">Ações</div>
				</div>
			@foreach (Produto modelProduto in Model.Produtos)
			{
				<div class="divTableRow" id="@($"row{modelProduto.Id}")">
					<div class="divTableCell" id="@($"rowId{modelProduto.Id}")">@(Model.MlInfos.First(x=>x.UserId == modelProduto.Seller).Vendedor)</div>
					<div class="divTableCell" id="@($"rowMlb{modelProduto.Id}")">@modelProduto.MLB</div>
					<div class="divTableCell" id="@($"rowDes{modelProduto.Id}")">@modelProduto.Descricao</div>
					<div class="divTableCell" id="@($"rowQtd{modelProduto.Id}")">@modelProduto.QuantidadeAVenda</div>
					<div class="divTableCell" id="@($"rowEst{modelProduto.Id}")">@modelProduto.Estoque</div>
					<div class="divTableCell" id="@($"rowAct{modelProduto.Id}")"><button onClick="editCurrentRow(@modelProduto.Id)">Editar</button><button onClick="deleteCurrentRow(@modelProduto.Id)">Delete</button></div>
				</div>
			}
		</div>
		<button onClick="addNewRow()">Add New Row</button>
	</div>
</div>

@section Scripts{
	<script src="~/js/interactivity.js"></script>
}


